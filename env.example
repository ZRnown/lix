# DiscuzSentinel 配置文件示例
# 复制此文件为 config.json 并填入实际值
# 命令：cp env.example config.json

{
  "discuz": {
    "target_fids": "147,148",           // 目标驿站 FID 列表（逗号分隔）
    "cookie": "your_cookie_here",       // Cookie（从浏览器 F12 获取）
    "base_url": "https://www.55188.com" // 论坛基础URL
  },
  "image_upload": {
    "app_id": "",                       // 全局图片上传AppID
    "app_secret": "",                   // 全局图片上传Secret
    "upload_url": "http://frp-cup.com:12245/upload/upload.html" // 图床上传地址
  },
  "notifications": {
    "fid_mappings": {                   // FID到Webhook的映射配置
      "147": {
        "webhook_url": "",              // Webhook地址
        "webhook_type": "dingtalk",     // 类型：dingtalk 或 feishu
        "secret": ""                    // Webhook签名密钥
      },
      "148": {
        "webhook_url": "",
        "webhook_type": "feishu",
        "secret": ""
      }
    }
  },
  "system": {
    "preview_limit": 4000,              // 文本预览长度（0或负数不截断）
    "log_file": "discuz_sentinel.log",  // 日志文件路径
    "log_level": "INFO",                // 日志级别
    "log_retention_days": 7,            // 日志保留天数
    "state_file": "monitor_state.json"  // 状态文件路径
  }
}

// ==================== 配置说明 ====================
// 1. 所有图片上传都使用 image_upload 中的 app_id 和 app_secret
// 2. 每个FID可以配置不同的webhook，在 fid_mappings 中指定
// 3. webhook_type 支持：dingtalk（钉钉）、feishu（飞书）
// 4. 如果某个FID没有配置webhook，该FID的新内容将不会被推送
// 5. 重要：不要将 config.json 文件提交到 Git！

